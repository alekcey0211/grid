{"id":"GW8s","dependencies":[{"name":"C:\\DATA\\WEB_2020\\chrome_extension\\grid\\package.json","includedInParent":true,"mtime":1608876728756},{"name":"./share","loc":{"line":3,"column":22},"parent":"C:\\DATA\\WEB_2020\\chrome_extension\\grid\\src\\popup.ts","resolved":"C:\\DATA\\WEB_2020\\chrome_extension\\grid\\src\\share.ts"}],"generated":{"js":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar share_1 = require(\"./share\");\n\nchrome.tabs.query({\n  active: true,\n  currentWindow: true\n}, function (tabs) {\n  document.getElementById('toggleGrid').addEventListener('click', function () {\n    chrome.tabs.executeScript(tabs[0].id, {\n      file: 'tabs/toggle.js'\n    });\n  });\n\n  var getHost = function getHost(url) {\n    return url.split('/')[2];\n  };\n\n  var host = getHost(tabs[0].url);\n  var hostConfig = \"config-\" + host;\n  chrome.storage.sync.get(['globalConfig', hostConfig], function (data) {\n    var globalConfig = JSON.parse(data.globalConfig);\n    var config = data[hostConfig] ? JSON.parse(data[hostConfig]) : globalConfig;\n    share_1.addListenersToInputs(config);\n    document.getElementById('inputs').addEventListener('change', function (e) {\n      var _a;\n\n      chrome.storage.sync.set((_a = {}, _a[hostConfig] = JSON.stringify(config), _a));\n      chrome.tabs.executeScript(tabs[0].id, {\n        file: 'tabs/refresh.js'\n      });\n    });\n    chrome.commands.getAll(function (commands) {\n      document.getElementById('toggleGrid').title = commands.find(function (x) {\n        return x.name === 'toggle-feature-foo';\n      }).shortcut;\n      document.getElementById('toggleGrid__hint').innerText = commands.find(function (x) {\n        return x.name === 'toggle-feature-foo';\n      }).shortcut;\n    });\n  });\n});"},"sourceMaps":null,"error":null,"hash":"6e5ce0c81c0323abdfdba09f2fe42874","cacheData":{"env":{}}}